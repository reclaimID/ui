<div style="text-align: center;">
  <i class="fa fa-2x fa-openid"></i> 
  <b class="fa-2x"> Authorization Request </b>
  <br/>
  <span *ngIf="isClientVerified() === undefined">
    <i class="fa fa-2x fa-circle-o-notch fa-spin fa-fw"></i> 
    <b class="fa-2x"> Verifying request, please stand by...</b>
  </span>
  <br/>
</div>
<div class="card" *ngIf="isClientVerified()" style="margin-left:30%; width:40%;">
  <div class="card-body">
    <strong>{{ oidcService.clientName }}</strong>
    asks you to share personal information.<br/>
    Choose an identity to let it access the following self-asserted information:
    <ul>
      <li *ngFor="let attribute of getScopesDescription()"><strong>{{attribute}}</strong>
    </ul>
    <div *ngIf="getRequestedClaims().length > 0">
      as well as the following third-party attested attributes:
      <ul>
        <ng-container *ngFor="let reference of getRequestedClaims()">
          <li *ngIf="reference[1] === true"><strong>{{reference[0]}}</strong>
            <li *ngIf="reference[1] !== true"><strong>{{reference[0]}} (optional)</strong>
        </ng-container>

      </ul>
    </div>

  </div>
  <div style="margin: 1em;">
    <button class="btn btn-danger m-1 mt-4" *ngIf="isClientVerified()" (click)="cancelRequest()" style="margin-bottom: -4%;">
      <span class="fa fa-ban"></span> Decline
    </button>
    <button class="btn btn-primary m-1 mt-4" [routerLink]="['/']" *ngIf="isClientVerified()">
      <span class="fa fa-arrow-circle-right"></span> Select identity...
    </button>
  </div>
</div>
<div *ngIf="isClientVerified() !== undefined && !isClientVerified()" style="text-align: center;">
  <div class="alert alert-danger show" role="alert">
    <b>Authorization failed.</b><br/>
    <button class="btn btn-primary mt-4" *ngIf="!isClientVerified()" (click)="retryVerify();">
      <span class="fa fa-openid"></span> Retry
    </button>
  </div>
</div>
<div *ngIf="isClientVerified() === undefined" style="text-align: center;">
  <button class="btn btn-danger mt-4" *ngIf="isClientVerified() === undefined" (click)="cancelRequest()">
    <span class="fa fa-ban"></span> Cancel verification request
  </button>
</div>

